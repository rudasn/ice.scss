@mixin ice-form($size: $ice-font-size,
                $color: $ice-font-color,
                $border: $ice-border-color,
                $shadow: adjust-color($border, $lightness: 10%)) {

    $padding: $size / 1.5;

    $box-border: 1px solid $border;

    $box-shadow-size: $size / 2;
    $box-shadow-color: $shadow;
    $box-shadow-focus: 0 0 $box-shadow-size 1px $box-shadow-color;
    $box-shadow: inset  1px 1px $box-shadow-size 1px $box-shadow-color;

    $placeholderColor: adjust-color($color, $lightness: 45%);
    $placeholderFocusColor: adjust-color($color, $lightness: 60%);

    $width: $ice-text-width * 0.6;

    font-size: $size;

    #{$all-text-inputs}, textarea, select {
        @extend %ice-box;

        font: inherit;
        box-shadow: $box-shadow;
        color: $color;
        padding: $padding;
        border: $box-border;
        width: $width;
        max-width: 100%;
    }

     #{$all-text-inputs}, textarea {
        &:focus {
            outline: none;

            &::-webkit-input-placeholder {
                color: $placeholderFocusColor;
            }
            &:-moz-placeholder {
                color: $placeholderFocusColor;
            }
            &::-moz-placeholder {
                color: $placeholderFocusColor;
            }
            &:-ms-input-placeholder {
                color: $placeholderFocusColor;
            }
            box-shadow: $box-shadow-focus;
        }

        &:disabled {
            opacity: 0.7;
        }

        &::-webkit-input-placeholder {
            color: $placeholderColor;
        }
        &:-moz-placeholder {
            color: $placeholderColor;
        }
        &::-moz-placeholder {
            color: $placeholderColor;
        }
        &:-ms-input-placeholder {
            color: $placeholderColor;
        }
    }
}

%ice-form {
    @include ice-form();
}
